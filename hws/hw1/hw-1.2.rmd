---
title: "HW-1.2"
output: pdf_document
---

Upload a completed version of this notebook to Canvas when done.

See website for an overview, submission details, and more information on the data-set 

* Put this folder into a R-project that has access to the `renv` environment 
  * Alternatively, you can copy `renv` and `renv.lock` files into this folder
  * If you are on Mac or Linux you can use a soft link `ln -s path_to_renv_folder/ren* ./`
  
## Set environment 
```{r}
renv::restore()

library(tidyverse)
library(rio)
```


## HW-1.2.1

Re-create the following plot as closely as possible. 

![](img/phd.png)

```{r}
# INSERT CODE HERE
library(ggplot2)

df <- read.csv('./hws/hw1/PhDPublications.csv')

df$kids <- ifelse(df$kids > 0, "1+", "0")
df$gender <- factor(df$gender, levels = c("female", "male"))
df$gender <- reorder(df$gender, c("female", "male"))
df$married <- factor(df$married, levels = c("yes", "no"))
df$married <- reorder(df$married, c("yes", "no"))


g <- ggplot(df, aes(mentor, articles, color = kids)) + 
  geom_smooth(method = "loess") + 
  facet_grid(married ~ gender, labeller = label_both, scales = "free_y", switch = "y") +
  scale_color_manual(values=c("darkblue", "yellow"), labels=c("0", "1+")) +
  scale_x_continuous(limits = c(0, 60), expand = c(0, 0)) +
  scale_y_continuous(limits = c(0, 12.5), expand = c(0, 0)) +
  theme(legend.position = "right",
        axis.text.x = element_blank(),
        axis.text.y = element_blank(),
        axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        strip.text.x = element_text(size = 14),
        strip.background = element_blank(),
        plot.title = element_text(hjust = 0.37, size = 14),
        plot.caption = element_text(hjust = -0.86, size = 10)) +
  labs(color = "Number of kids",
       caption = "Data from Long, J.S. (1990). Regression Models for Categorical and Limited Dependent Variables.") +
  ggtitle("Relation between PhD candidate and mentor's publication number")

g
```

## HW-1.2.1

Re-create the following plot as closely as possible. 

![](img/gapminder.png)


```{r}
# INSERT CODE HERE
library(gapminder)

data("gapminder")

g <- ggplot(gapminder, aes(x=year, y=pop)) +
  geom_line(aes(col=continent, group=country)) +
  scale_color_manual(values = rep("black", 5), guide=FALSE) +
  facet_wrap(~continent, ncol=3) +
  scale_y_log10(labels = function(x) format(x, scientific = FALSE, big.mark = ",")) +
  theme(panel.background = element_rect(fill='white'),
        panel.grid.major = element_line(color='grey'),
        panel.grid.minor = element_line(color='grey'),
        panel.border = element_rect(color = "black", fill = NA, linewidth = 0.5),
        axis.text.x = element_text(size = 10),
        axis.text.y = element_text(size = 10),
        axis.title.x = element_text(size = 10),
        axis.title.y = element_text(size = 10),
        plot.title = element_text(size = 12),
        strip.text = element_text(size = 10),
        strip.background = element_rect(fill='grey', color='black'),
        plot.margin = unit(c(0, 0, 0, 0), "mm")) +
  labs(x = "Year", y = "Population", title = "Population change around the world, 1957-2007") +
  xlim(1950, 2007) +
  coord_fixed(ratio = 12)

g
```
